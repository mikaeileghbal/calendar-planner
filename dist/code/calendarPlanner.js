(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function n(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var a=new WeakMap,o=new WeakMap;const r=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t(this,a,{writable:!0,value:""}),t(this,o,{writable:!0,value:""}),this.state="EDIT",this.container=document.createElement("div"),this.input=document.createElement("input"),this.btnAdd=document.createElement("button"),this.btnDelete=document.createElement("button"),this.trash=document.createElement("i"),this.btnAdd.classList.add("todo__add","button"),this.container.classList.add("todo__row"),this.btnDelete.classList.add("button","btnDeleteItem"),this.trash.classList.add("fa","fa-trash"),this.input.placeholder="Note...",this.btnDelete.appendChild(this.trash),this.container.appendChild(this.input),this.container.appendChild(this.btnAdd),this.container.appendChild(this.btnDelete)}var i,c;return i=r,(c=[{key:"setState",value:function(){"NOEDIT"===this.state?(this.input.setAttribute("disabled","true"),this.btnAdd.style.display="none",this.btnDelete.style.display="block"):"EDIT"===this.state&&(this.input.removeAttribute("disabled"),this.btnAdd.style.display="block",this.btnDelete.style.display="none",this.input.focus())}},{key:"createNote",value:function(){var e=this;return this.input.textContent=function(e,t){return t.get?t.get.call(e):t.value}(this,n(this,o,"get")),this.btnAdd.textContent="Done",this.btnDelete.style.display="none",this.btnAdd.addEventListener("click",(function(t){t.stopPropagation(),console.log("Done"),function(e,t,a){(function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}})(e,n(e,t,"set"),a)}(e,o,e.input.value),e.state="NOEDIT",e.setState()})),this.btnDelete.addEventListener("click",(function(t){t.stopPropagation(),e.container.parentElement.removeChild(e.container)})),this.container.addEventListener("click",(function(t){e.state="EDIT",e.setState(),e.input.focus()})),this.container}}])&&e(i.prototype,c),Object.defineProperty(i,"prototype",{writable:!1}),r}(),i=c;function c(e){this.date=e;var t=["January","February","March","April","May","June","July","August","September","October","November","December"];this.getMonthOfYear=function(){return e=this.date.getMonth(),t[e];var e},this.today=function(){this.date=new Date}}c.prototype.setYear=function(e){this.date.setFullYear=e},c.prototype.nextYear=function(){this.date.setFullYear(this.date.getFullYear()+1)},c.prototype.previousYear=function(){this.date.setFullYear(this.date.getFullYear()-1)},c.prototype.getDayOfMonth=function(){return this.date.getDate()},c.prototype.getYear=function(){return this.date.getFullYear()},c.prototype.getToday=function(){return this.date.getDate()},c.prototype.getWeekCalendar=function(){return{Week:"week"}},c.prototype.getYearCalendar=function(){var e=document.createElement("div");e.className="calendar",e.id="calendar";for(var t="<div class='year-container'>",n=0;n<12;n++){var a=new Date(this.date.getFullYear(),n,1);t+=this.getMonthCalenar(a)}return t+="</div>",e.innerHTML=t,e},c.prototype.getMonthCalenar=function(e){var t="<div class='month-container'>";return t+="<table id='calendar_table' class='calendar_table'>",t+=this.calCaption(e),t+=this.calWeakdayRow(),t+=this.calDays(e),(t+="</table>")+"</div>"},c.prototype.calCaption=function(e){var t=e.getMonth();return'<caption id="'.concat(this.getMonthOfYear(t),'">')+this.getMonthOfYear(t)+" <span class='year' id='year'>"+this.getYear()+"</span></caption>"},c.prototype.calWeakdayRow=function(){for(var e=["S","M","T","W","T","F","S"],t="<tr>",n=0;n<e.length;n++)t+="<th class='calendar-weakdays'>"+e[n]+"</th>";return t+"</tr>"},c.prototype.daysInMonth=function(e){var t=[31,28,31,30,31,30,31,31,30,31,30,31],n=e.getFullYear(),a=e.getMonth();return n%4==0&&(n%100==0&&n%400!=0||(t[1]=29)),t[a]},c.prototype.calDays=function(e){for(var t=0,n=new Date(e.getFullYear(),e.getMonth(),1),a=n.getDay(),o="<tr>",r=0;r<a;r++)o+="<td class='empty'><div class='empty-day'></div></td>";for(var i=this.daysInMonth(e),c=(new Date).getDate(),d=(new Date).getMonth(),l="",s="",u=1;u<=i;u++)n.setDate(u),a=n.getDay(),t="".concat(n.getFullYear()).concat(2===n.getMonth().toString().length?n.getMonth():"0"+n.getMonth()).concat(2===n.getDate().toString().length?n.getDate():"0"+n.getDate()),l=6===a?"sat":"",s=5===a?"fri":"",u===c&&e.getMonth()===d?o+="<td  class='calendar-dates ".concat(l," ").concat(s,"' id='calendar-today'><div data-daynumber=").concat(t," class='days'>")+u+"</div></td>":o+="<td  class='calendar-dates ".concat(l," ").concat(s,"'><div data-daynumber=").concat(t," class='days'>")+u+"</div></td>",6===a&&(o+="</tr>"),t++;for(var h=(a=(n=new Date(e.getFullYear(),e.getMonth(),i)).getDay())+1;h<7;h++)o+="<td class='empty'><div class='empty-day'></div></td>";return o+"</tr>"};var d=null,l=null;function s(e,t){d=e,l=t,f()}function u(){d.today(),f()}function h(){d.nextYear(),f()}function p(){d.previousYear(),f()}function y(e){e.textContent=d.getYear()}function f(){l.firstElementChild.remove(),l.prepend(d.getYearCalendar())}window.addEventListener("load",(function(){s(new i(new Date),document.querySelector(".section-main")),a();var e=document.querySelector("#btnToday"),t=document.querySelector("#btnPreviousYear"),n=document.querySelector("#btnNextYear");function a(){var e=document.querySelector(".current-year");document.querySelector(".today"),y(e)}e.addEventListener("click",(function(e){u(),a()})),t.addEventListener("click",(function(e){p(),a()})),n.addEventListener("click",(function(e){h(),a()}))}));var v=document.getElementById("calendar"),m=document.querySelector("#btnCloseSidePanel"),g=document.querySelector(".side-panel"),b=document.querySelector("#btnOpenNotes"),D=document.querySelectorAll(".todo__label"),E=document.querySelector("#btnAddItem"),w=document.querySelector("#btnCancel"),S=document.querySelector(".todo__container"),L=document.querySelector("#view"),Y=document.querySelector(".button--add"),k=(document.querySelector(".add-item__countainer"),0);function C(e){e.forEach((function(t){t.addEventListener("click",(function(n){e.forEach((function(e){e.classList.remove("selected")})),t.classList.add("selected");var a=n.target.dataset.daynumber,o=new Date(a.slice(0,4),a.slice(4,6),a.slice(6,8));k=a.slice(4,6),console.log(k),console.log(o),document.querySelector(".side-panel_date").innerText=o.toDateString()}))}))}L.addEventListener("change",(function(e){var t=e.target.value;"Month"===t?(ui.addMonthStyle(),ui.viewMode="MONTH",v.innerHTML=createCalendar(new Date(currentYear,k,1)),updateHeaderTitles(),updateHeaderTitles()):"Year"===t&&(ui.removeMonthStyle(),ui.viewMode="YEAR"),function(){var e,t;e=thisDate,t=currentYear,e.setFullYear(t),function(e){localStorage.setItem("currentYear",e)}(currentYear),thisDate,setCalendarContainer(v),createYear(thisDate),updateHeaderTitles(),C(document.querySelectorAll(".days"));var n=document.querySelectorAll(".days");console.log("dates:",n),C(n)}(),C(document.querySelectorAll(".days"))})),m.addEventListener("click",(function(e){console.log("clicked"),g.classList.remove("active")})),b.addEventListener("click",(function(e){console.log("clicked"),g.classList.toggle("active")})),D.forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.toggle("checked")}))})),E.addEventListener("click",(function(e){var t=document.querySelector("#newitem"),n=t.value;t.value="";var a=document.createElement("div"),o=document.createElement("label"),r=document.createTextNode(n),i=document.createElement("button"),c=document.createElement("i");c.classList.add("fa","fa-trash"),a.classList.add("todo__row"),o.classList.add("todo__label"),i.classList.add("btnDeleteItem"),i.appendChild(c),o.appendChild(r),a.appendChild(o),a.appendChild(i),S.appendChild(a),i.addEventListener("click",(function(){S.removeChild(a)})),o.addEventListener("click",(function(e){e.target.classList.toggle("checked")})),t.focus()})),w.addEventListener("click",(function(){document.querySelector(".add-item__countainer").classList.remove("show")})),Y.addEventListener("click",(function(e){var t=new r,n=document.querySelector(".todo__container");n.appendChild(t.createNote()),n.lastChild.firstChild.focus()}))})();