(()=>{"use strict";var e,t,n;function a(e){t=e.getFullYear(),n=e.getDate();var a="<div class='month-container'>";return a+="<table id='calendar_table' class='calendar_table'>",a+=function(e){var t=e.getMonth(),n=e.getFullYear();return'<caption id="'.concat(o(t),'">')+o(t)+" <span class='year' id='year'>"+n+"</span></caption>"}(e),a+=function(){for(var e=["S","M","T","W","T","F","S"],t="<tr>",n=0;n<e.length;n++)t+="<th class='calendar-weakdays'>"+e[n]+"</th>";return t+"</tr>"}(),a+=function(e){for(var t=0,n=new Date(e.getFullYear(),e.getMonth(),1),a=n.getDay(),o="<tr>",c=0;c<a;c++)o+="<td class='empty'><div class='empty-day'></div></td>";for(var r=function(e){var t=[31,28,31,30,31,30,31,31,30,31,30,31],n=e.getFullYear(),a=e.getMonth();return n%4==0&&(n%100==0&&n%400!=0||(t[1]=29)),t[a]}(e),d=(new Date).getDate(),l=(new Date).getMonth(),i="",s="",u=1;u<=r;u++)n.setDate(u),a=n.getDay(),t="".concat(n.getFullYear()).concat(2===n.getMonth().toString().length?n.getMonth():"0"+n.getMonth()).concat(2===n.getDate().toString().length?n.getDate():"0"+n.getDate()),i=6===a?"sat":"",s=5===a?"fri":"",0===a&&(o+="<tr>"),u===d&&e.getMonth()===l?o+="<td  class='calendar-dates ".concat(i," ").concat(s,"' id='calendar-today'><div data-daynumber=").concat(t," class='days'>")+u+"</div></td>":o+="<td  class='calendar-dates ".concat(i," ").concat(s,"'><div data-daynumber=").concat(t," class='days'>")+u+"</div></td>",6===a&&(o+="</tr>"),t++;for(var g=(a=(n=new Date(e.getFullYear(),e.getMonth(),r)).getDay())+1;g<7;g++)o+="<td class='empty'><div class='empty-day'></div></td>";return o+"</tr>"}(e),(a+="</table>")+"</div>"}function o(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}console.log([{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]}]);var c=document.getElementById("calendar"),r=document.querySelector("#btnToday"),d=document.querySelector("#btnPreviousYear"),l=document.querySelector("#btnNextYear"),i=document.querySelector("#btnCloseSidePanel"),s=document.querySelector(".side-panel"),u=document.querySelector("#btnOpenNotes"),g=document.querySelectorAll(".todo__label"),m=document.querySelector("#btnAddItem"),v=document.querySelector("#btnCancel"),y=document.querySelector(".todo__container"),f=document.querySelector("#view"),h=document.querySelector(".button--add"),p=document.querySelector(".add-item__countainer"),S="Year",D=0;console.log(m),console.log(v),console.log(y),console.log(g);var L=localStorage.getItem("currentYear")||(new Date).getFullYear(),M=new Date(L);M.setDate((new Date).getDate()),M.setMonth((new Date).getMonth()),console.log(M);var b=document.querySelector(".time");function w(){e=c,function(o){t=o.getFullYear(),n=o.getDate();for(var c="<div class='year-container'>",r=0;r<12;r++)c+=a(new Date(o.getFullYear(),r,1));e.innerHTML=c+"</div>"}(M),Y(),k(document.querySelectorAll(".days"))}function E(){c.innerHTML=a(new Date(L,D,1)),Y()}function k(e){e.forEach((function(t){t.addEventListener("click",(function(n){e.forEach((function(e){e.classList.remove("selected")})),t.classList.add("selected");var a=n.target.dataset.daynumber,o=new Date(a.slice(0,4),a.slice(4,6),a.slice(6,8));D=a.slice(4,6),console.log(D),console.log(o),document.querySelector(".side-panel_date").innerText=o.toDateString()}))}))}function q(){var e;"Year"===S?(e=L,M.setFullYear(e),function(e){localStorage.setItem("currentYear",e)}(L),w()):"Month"===S&&(console.log(D),E()),k(document.querySelectorAll(".days"))}function Y(){var e=document.querySelector(".current-year"),a=document.querySelector(".today");"Year"===S?e.innerText=t:"Month"===S&&(console.log(Number(D)),e.innerText="".concat(o(Number(D))," ").concat(t)),a.innerText=n}setInterval((function(){b.innerText=(new Date).toLocaleTimeString()}),1e3),window.addEventListener("load",(function(){w()})),f.addEventListener("change",(function(e){var t,n=e.target.value;"Month"===n?("css/monthview.css",(t=document.createElement("link")).rel="stylesheet",t.href="css/monthview.css",document.getElementsByTagName("head")[0].appendChild(t),S="Month",E(),Y()):"Year"===n&&(function(e){var t=document.querySelector('link[href="'.concat("css/monthview.css",'"]'));console.log(t),t.parentNode.removeChild(t)}(),S="Year",q())})),r.addEventListener("click",(function(e){e.preventDefault(),L=(new Date).getFullYear(),D=(new Date).getMonth(),q()})),d.addEventListener("click",(function(e){"Year"===S?L--:"Month"===S&&--D<0&&(D=11,L--),q()})),l.addEventListener("click",(function(e){"Year"===S?L++:"Month"===S&&++D>11&&(D=0,L++),q()})),i.addEventListener("click",(function(e){s.classList.remove("active")})),u.addEventListener("click",(function(e){s.classList.toggle("active")})),g.forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.toggle("checked")}))})),m.addEventListener("click",(function(e){var t=document.querySelector("#newitem"),n=t.value;t.value="";var a=document.createElement("div"),o=document.createElement("label"),c=document.createTextNode(n),r=document.createElement("button"),d=document.createElement("i");d.classList.add("fa","fa-trash"),a.classList.add("todo__row"),o.classList.add("todo__label"),r.classList.add("btnDeleteItem"),r.appendChild(d),o.appendChild(c),a.appendChild(o),a.appendChild(r),y.appendChild(a),r.addEventListener("click",(function(){y.removeChild(a)})),o.addEventListener("click",(function(e){e.target.classList.toggle("checked")})),t.focus()})),v.addEventListener("click",(function(){document.querySelector(".add-item__countainer").classList.remove("show")})),h.addEventListener("click",(function(e){p.classList.toggle("show")}))})();